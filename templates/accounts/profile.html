{% extends 'base.html' %}

{% block content %}
<!-- Profile header -->
<h1>Your Profile</h1>
<p>Welcome, {{ user.username }}!</p>

<!-- User's articles section -->
<h2 class="mt-4">Your Articles</h2>
{% if articles %}
  <!-- Loop through each article -->
  {% for article in articles %}
    <div class="card mb-3">
      <div class="card-body">
        <!-- Article title -->
        <h3 class="card-title">{{ article.title }}</h3>
        <!-- Article content snippet -->
        <p class="card-text">{{ article.content|truncatewords:20 }}</p>
        <!-- Approval status -->
        <p class="text-muted">
          Status: {% if article.is_approved %}Approved{% else %}Pending Approval{% endif %}
        </p>
        <!-- Action buttons -->
        <a href="{% url 'edit_article' article.id %}" class="btn btn-sm btn-primary">Edit</a>
        <a href="{% url 'delete_article' article.id %}" class="btn btn-sm btn-danger">Delete</a>
      </div>
    </div>
  {% endfor %}
{% else %}
  <!-- Message if no articles -->
  <p>You haven't written any articles yet.</p>
  <a href="{% url 'create_article' %}" class="btn btn-primary">Write Your First Article</a>
{% endif %}
{% endblock %}
